import axios from "axios";
import { apiUrl } from "@/lib/config";

const STATISTICS_URL = apiUrl("/statistics/chiffre-affaire");

export interface StatisticsData {
  labels: string[];
  data: number[];
}

// ðŸ“Œ RÃ©cupÃ©rer les statistiques de ventes totales
export async function fetchVentesTotales(): Promise<StatisticsData> {
  const token = localStorage.getItem("token");
  
  const res = await axios.get<StatisticsData>(apiUrl("/statistics/ventes-totales"), {
    headers: {
      Authorization: `Bearer ${token}`,
      Accept: "application/json",
    },
  });
  
  return res.data;
}

// ðŸ“Œ RÃ©cupÃ©rer les statistiques de chiffre d'affaire
export async function fetchChiffreAffaire(): Promise<StatisticsData> {
  const token = localStorage.getItem("token");
  
  const res = await axios.get<StatisticsData>(STATISTICS_URL, {
    headers: {
      Authorization: `Bearer ${token}`,
      Accept: "application/json",
    },
  });
  
  return res.data;
}