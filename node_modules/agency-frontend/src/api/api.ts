import axios from "axios";
import { Client } from "@/types/clients";
import { apiUrl } from "@/lib/config";

const API_URL = apiUrl("/clients");

// ðŸ“Œ RÃ©cupÃ©rer tous les clients
export async function fetchClients(): Promise<Client[]> {
  const res = await axios.get<Client[]>(API_URL);
  return res.data;
}

// ðŸ“Œ CrÃ©er un client
export async function createClient(newClient: Omit<Client, "id">): Promise<Client> {
  const res = await axios.post<Client>(API_URL, newClient);
  return res.data;
}

// ðŸ“Œ Mettre Ã  jour un client (par exemple statut ou autre)
export async function updateClient(id: number, updates: Partial<Client>): Promise<Client> {
  const res = await axios.put<Client>(`${API_URL}/${id}`, updates);
  return res.data;
}

// ðŸ“Œ Supprimer un client
export async function deleteClient(id: number): Promise<void> {
  await axios.delete(`${API_URL}/${id}`);
}
